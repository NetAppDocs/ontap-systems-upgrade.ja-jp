---
sidebar: sidebar 
permalink: upgrade-arl-auto-affa900/replace_node1_system_modules.html 
keywords: aff, asa, fas, replace, node1, system, modules 
summary: ARLを使用して同じシャーシ内のコントローラモデルをアップグレードする場合は、ノード1のシステムモジュールを交換します。 
---
= ノード1のシステムモジュールを交換します
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
アップグレード構成のノード1のシステムモジュールを交換します。

* <<replace_modules,AFF A220、AFF A200、AFF C190、FAS2620、またはFAS2720のコントローラモジュールを交換してください>>
+

NOTE: また、この手順を使用して、ASAとして構成されたAFF A220を交換することもできます。

* <<AFF A700またはFAS9000コントローラとNVRAMモジュールを交換してください>>
+

NOTE: また、この手順を使用して、ASAとして構成されたAFF A700を交換することもできます。





== AFF A220、AFF A200、AFF C190、FAS2620、またはFAS2720のコントローラモジュールを交換してください

この段階で、 node1 は停止し、すべてのデータが node2 によって提供されます。ノード 1 とノード 2 は同じシャーシに搭載されており、同じ電源装置のセットから電力が供給されているため、シャーシの電源をオフにしないでください。ノード1のコントローラモジュールだけを取り外すように注意する必要があります。通常、 node1 はコントローラ A で、システム背面からコントローラを見るときにシャーシの左側に配置されます。コントローララベルは、シャーシのコントローラモジュールのすぐ上にあります。

.作業を開始する前に
接地対策がまだの場合は、自身で適切に実施します。



=== AFF A220、AFF A200、AFF C190、FAS2620、またはFAS2720のコントローラモジュールを取り外します

コントローラ内部のコンポーネントにアクセスするには、まずコントローラモジュールをシステムから取り外し、続いてコントローラモジュールのカバーを外す必要があります。

.手順
. ケーブルマネジメントデバイスに接続しているケーブルをまとめているフックとループストラップを緩め、システムケーブルと SFP をコントローラモジュールから外し（必要な場合）、どのケーブルが何に接続されていたかを記録します。
+
ケーブルはケーブルマネジメントデバイスに収めたままにします。これにより、ケーブルマネジメントデバイスを取り付け直すときに、ケーブルを整理する必要がありません。

. ケーブルマネジメントデバイスをコントローラモジュールの右側と左側から取り外し、脇に置きます。
+
image::../media/drw_25xx_cable_management_arm.png[DRW 25xx ケーブル管理アーム]

. カムハンドルのラッチをつかんで解除し、カムハンドルを最大限に開いてコントローラモジュールをミッドプレーンから離し、両手でコントローラモジュールをシャーシから外します。
+
image::../media/drw_2240_x_opening_cam_latch.png[DRW 2240 x オープンカムラッチ]

. コントローラモジュールを裏返し、平らで安定した場所に置きます。




=== ASA A150、AFF A150、またはFAS2820コントローラモジュールの設置

次の手順を使用して、ASA A150、AFF A150、またはFAS2820コントローラモジュールをノード1に取り付けます。

.手順
. コントローラモジュールの端をシャーシの開口部に合わせ、コントローラモジュールをシステムに半分までそっと押し込みます。
+

NOTE: 手順 の後半で指示があるまでコントローラモジュールをシャーシに完全に挿入しないでください。

. 管理ポートとコンソールポートを node1 コントローラモジュールにケーブル接続します。
+

NOTE: シャーシの電源はすでにオンになっているため、 node1 では BIOS の初期化が開始され、完全に装着されるとすぐに AUTOBOOT が開始されます。ノード 1 のブートを中断するには、コントローラモジュールをスロットに完全に挿入する前に、シリアルコンソールケーブルと管理ケーブルをノード 1 のコントローラモジュールに接続することを推奨します。

. カムハンドルを開いた状態で、コントローラモジュールをミッドプレーンまでしっかりと押し込んで完全に装着します。コントローラモジュールが完全に装着されると、ロックラッチが上がります。カムハンドルをロック位置まで閉じます。
+

NOTE: コネクタの破損を防ぐため、コントローラモジュールをシャーシに挿入する際に力を入れすぎないようにしてください。

. モジュールを装着したらすぐにシリアルコンソールに接続し、 node1 の自動ブートを中断できるようにします。
. 自動ブートを中断すると、 node1 で LOADER プロンプトが停止します。時間内に自動ブートを中断せずにnode1がブートを開始した場合は、プロンプトが表示されたら* Ctrl-C *を押してブートメニューに移動します。ノードがブートメニューで停止したら、オプション8を使用してノードをリブートし、リブート時に自動ブートを中断します。
. node1 の LOADER プロンプトで、デフォルトの環境変数を設定します。
+
「デフォルト設定」

. デフォルトの環境変数設定を保存します。
+
'aveenv





== AFF A700またはFAS9000コントローラとNVRAMモジュールを交換してください

この段階で、 node1 は停止し、すべてのデータが node2 によって提供されます。ノード 1 とノード 2 は同じシャーシに搭載されており、同じ電源装置のセットから電力が供給されているため、シャーシの電源をオフにしないでください。node1 コントローラモジュールと node1 NVRAM モジュールのみを削除するように注意する必要があります。通常、 node1 はコントローラ A で、システム背面からコントローラを見るときにシャーシの左側に配置されます。コントローララベルは、シャーシのコントローラモジュールのすぐ上にあります。

.作業を開始する前に
接地対策がまだの場合は、自身で適切に実施します。



=== AFF A700またはFAS9000コントローラモジュールを取り外します

次の手順 を使用して、AFF A700またはFAS9000コントローラモジュールを取り外します。

.手順
. ノード 1 からコントローラモジュールを取り外す前に、コンソールケーブル（ある場合）と管理ケーブルをノード 1 のコントローラモジュールから外します。
+

WARNING: ノード 1 で作業しているときは、コンソールケーブルと e0M ケーブルのみをノード 1 から取り外します。このプロセスの実行中は、 node1 または node2 の他のケーブルや接続を取り外したり変更したりしないでください。

. コントローラモジュール A のロックを解除してシャーシから取り外します。
+
.. カムハンドルのオレンジ色のボタンを下にスライドさせてロックを解除します。
+
image::../media/drw_9500_remove_PCM.png[コントローラモジュールを取り外します]

+
[cols="20,80"]
|===


 a| 
image::../media/black_circle_one.png[番号 1]
| カムハンドルのリリースボタン 


 a| 
image::../media/black_circle_two.png[番号 2]
| カムハンドル 
|===
.. カムハンドルを回転させて、コントローラモジュールをシャーシから完全に外し、コントローラモジュールをシャーシから引き出します。
+
このとき、空いている手でコントローラモジュールの底面を支えてください。







=== AFF A700またはFAS9000 NVRAMモジュールを取り外します

次の手順 を使用して、AFF A700またはFAS9000 NVRAMモジュールを取り外します。


NOTE: AFF A700またはFAS9000 NVRAMモジュールはスロット6にあり、システム内の他のモジュールの2倍の高さです。

.手順
. NVRAM モジュールのロックを解除して、 node1 のスロット 6 から取り外します。
+
.. 文字と数字が記載されたカムボタンを押し下げます。
+
カムボタンがシャーシから離れます。

.. カムラッチを下に回転させて水平にします。
+
NVRAM モジュールがシャーシから外れ、数インチ移動します。

.. NVRAM モジュール前面の両側にあるプルタブを引いてモジュールをシャーシから取り外します。
+
image::../media/drw_a900_move-remove_NVRAM_module.png[NVRAM モジュールを取り外します]

+
[cols="20,80"]
|===


 a| 
image::../media/black_circle_one.png[番号 1]
| 文字と数字が記載された I/O カムラッチ 


 a| 
image::../media/black_circle_two.png[番号 2]
| ロックが完全に解除された I/O ラッチ 
|===






=== ASA A900、AFF A900、またはFAS9500 NVRAMとコントローラモジュールの設置

アップグレード用に受け取ったASA A900、AFF A900、またはFAS9500のNVRAMとコントローラモジュールをnode1に取り付けます。

インストールを実行する際には、次の点に注意する必要があります。

* スロット6-1および6-2の空のフィラーモジュールをすべて古いNVRAMモジュールから新しいNVRAMモジュールに移動します。
* コアダンプデバイスをAFF A700 NVRAMモジュールからASA A900またはAFF A900 NVRAMモジュールに移動しないでください。
* FAS9000 NVRAMモジュールに取り付けられているすべてのフラッシュキャッシュモジュールをFAS9500 NVRAMモジュールに移動します。


.作業を開始する前に
接地対策がまだの場合は、自身で適切に実施します。



==== ASA A900、AFF A900、またはFAS9500 NVRAMモジュールの設置

次の手順を使用して、ASA A900、AFF A900、またはFAS9500 NVRAMモジュールをノード1のスロット6に取り付けます。

.手順
. NVRAM モジュールをスロット 6 のシャーシ開口部の端に合わせます。
. NVRAM モジュールをスロットにそっと挿入し、文字と数字が記載された I/O カムラッチを上に押して NVRAM モジュールを所定の位置にロックします。
+
image::../media/drw_a900_move-remove_NVRAM_module.png[NVRAM モジュールを取り付けます]

+
[cols="20,80"]
|===


 a| 
image::../media/black_circle_one.png[番号 1]
| 文字と数字が記載された I/O カムラッチ 


 a| 
image::../media/black_circle_two.png[番号 2]
| ロックが完全に解除された I/O ラッチ 
|===




==== ASA A900、AFF A900、またはFAS9500コントローラモジュールをノード1に取り付けます。

次の手順を使用して、ASA A900、AFA A900、またはFAS9500コントローラモジュールをノード1に取り付けます。

.手順
. コントローラモジュールの端をシャーシの開口部に合わせ、コントローラモジュールをシステムに半分までそっと押し込みます。
+

NOTE: 手順 の後半で指示があるまでコントローラモジュールをシャーシに完全に挿入しないでください。

. 管理ポートとコンソールポートを node1 コントローラモジュールにケーブル接続します。
+

NOTE: シャーシの電源はすでにオンになっているため、 node1 では BIOS の初期化が開始され、完全に装着されるとすぐに AUTOBOOT が開始されます。ノード 1 のブートを中断するには、コントローラモジュールをスロットに完全に挿入する前に、シリアルコンソールケーブルと管理ケーブルをノード 1 のコントローラモジュールに接続することを推奨します。

. コントローラモジュールをシャーシに挿入し、ミッドプレーンまでしっかりと押し込んで完全に装着します。
+
コントローラモジュールが完全に装着されると、ロックラッチが上がります。

+

WARNING: コネクタの破損を防ぐため、コントローラモジュールをシャーシに挿入する際に力を入れすぎないようにしてください。

+
image::../media/drw_9500_remove_PCM.png[コントローラモジュールを取り付けます]

+
[cols="20,80"]
|===


 a| 
image::../media/black_circle_one.png[番号 1]
| カムハンドルのロックラッチ 


 a| 
image::../media/black_circle_two.png[番号 2]
| カムハンドルがアンロック位置にある 
|===
. モジュールを装着したらすぐにシリアルコンソールに接続し、 node1 の自動ブートを中断できるようにします。
. 自動ブートを中断すると、 node1 で LOADER プロンプトが停止します。ブートを中断せずに node1 でブートが開始された場合は、プロンプトが表示されるまで待ち、 * Ctrl+C * を押してブートメニューに進みます。ノードがブートメニューで停止したら、オプション「 8 」を使用してノードをリブートし、リブート中に自動ブートを中断します。
. node1 の LOADER プロンプトで、デフォルトの環境変数を設定します。
+
「デフォルト設定」

. デフォルトの環境変数設定を保存します。
+
'aveenv


